<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Event Form</title>
    <link rel="stylesheet" type="text/css" href="./lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./lib/css/pure-min.css">
    <link rel="stylesheet" type="text/css" href="./lib/css/grids-responsive-min.css">
    <script type="text/javascript" src="./lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="./lib/js/countries.js"></script>
    <style>
    body{
      font-size: 1.4em;
    }

    label span{
      color : red;
    }
    </style>
  </head>
  <body>
    <!-- HEADING SECTION -->
    <div class="pure-g"> <!-- pure grid : 1st comes grid then sections/units -->
      <div class="pure-u-1-3">&nbsp;</div> <!-- 1/3 section -->
      <div class="pure-u-1-3"> <!-- 1/3 section -->
        <div class="pure-g" style="text-align:center"> <!-- grid in section -->
          <div class="pure-u-1"> <!-- 1 full section in the 1/3 section -->
            <h1>Event</h1>
            <p>Event Description</p>
            <p>by author</p>
          </div>
        </div>
      </div>
      <div class="pure-u-1-3">&nbsp;</div> <!-- 1/3 section -->
    </div>

    <!-- FORM SECTION -->
    <div class="pure-g">
      <div class="pure-u-1-3">&nbsp;</div>
      <div class="pure-u-1-3">
        <div class="pure-g">
          <div class="pure-u-1">
            <form class="pure-form pure-form-stacked" action="" method="post" target="_self" id="form">
              <fieldset>
                <div class="pure-g">
                  <div class="pure-u-2-5">
                    <label class="pure-u-1" for="fname">First Name<span>*</span></label>
                    <input class="pure-u-1" type="text" name="fname" id="first-name" placeholder="First Name" required>
                  </div>

                  <div class="pure-u-1-5">&nbsp;</div>

                  <div class="pure-u-2-5">
                    <label class="pure-u-1" for="lname">Last Name<span>*</span></label>
                    <input class="pure-u-1" type="text" name="lname" id="last-name" placeholder="Last Name" required>
                  </div>
                </div>


                <div class="pure-g">
                  <label class="pure-u-1" for="email">Email<span>*</span></label>
                  <input class="pure-u-1" type="email" name="email" id="email" placeholder="Email" required>
                </div>

                <div class="pure-g">
                  <label class="pure-u-1" for="phno">Phone Number<span>*</span></label>
                  <input class="pure-u-1" type="text" name="phno" id="phno" placeholder="Phone Number" required>
                </div>

                <div class="pure-g">
                  <label class="pure-u-1" for="dob">Date of Birth<span>*</span></label>
                  <input class="pure-u-1" type="date" name="dob" id="dob" required>
                </div>

                <div class="pure-g">
                  <label class="pure-u-1" for="addr">Address</label>
                  <input class="pure-u-1" type="text" name="addr" id="addr" placeholder="Address">
                </div>

                <div class="pure-g">
                  <div class="pure-u-2-5">
                    <label class="pure-u-1" for="city">City</label>
                    <input class="pure-u-1" type="text" name="city" id="city" placeholder="City">
                  </div>

                  <div class="pure-u-1-5">&nbsp;</div>

                  <div class="pure-u-2-5">
                    <label class="pure-u-1" for="zipcode">Zipcode</label>
                    <input class="pure-u-1" type="text" name="zipcode" id="zipcode" placeholder="Zipcode">
                  </div>
                </div>

                <div class="pure-g">
                  <div class="pure-u-2-5">
                    <div class="pure-g">
                      <label class="pure-u-1" for="country">Country</label>
                      <select onchange="print_state('state',this.selectedIndex);" class="pure-u-1" id="country" name="country" ></select>
                    </div>
                  </div>

                  <div class="pure-u-1-5">&nbsp;</div>

                  <div class="pure-u-2-5">
                    <div class="pure-g">
                      <label class="pure-u-1" for="state">State</label>
                      <select class="pure-u-1" id="state" name="state" ></select>
                    </div>
                  </div>
                </div>

                <script language="javascript" type="text/javascript">
                  print_country("country");
                </script>

                <div class="pure-g">
                  <label for="feedback" class="pure-u-1">Feedback</label>
                  <textarea name="feedback" class="pure-u-1" id="feedback" rows="8"></textarea>
                </div>

                <button class="pure-button pure-button-primary" type="submit" name="submit" id="submit">Submit</button>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
      <div class="pure-u-1-3">&nbsp;</div>
    </div>

    <script type="text/javascript">
    $('#form').one('submit',function(){
      var inputfname = encodeURIComponent($('#first-name').val());
      var inputlname = encodeURIComponent($('#last-name').val());
      var inputemail = encodeURIComponent($('#email').val());
      var inputphno = encodeURIComponent($('#phno').val());
      var inputdob = encodeURIComponent($('#dob').val());
      var inputaddr = encodeURIComponent($('#addr').val());
      var inputcity = encodeURIComponent($('#city').val());
      var inputzipcode = encodeURIComponent($('#zipcode').val());
      var inputcountry = encodeURIComponent($('#country').val());
      var inputstate = encodeURIComponent($('#state').val());
      var inputfeedback = encodeURIComponent($('#feedback').val());

      var fnameID = "entry.1755735264";
      var lnameID = "entry.1701792835";
      var emailID = "entry.1881108480";
      var phnoID = "entry.1947439081";
      var dobID = "entry.1954894162";
      var addrID = "entry.723855980";
      var cityID = "entry.1515708919";
      var zipcodeID = "entry.1251006393";
      var countryID = "entry.542252211";
      var stateID = "entry.250111123";

      var baseURL = 'https://docs.google.com/forms/d/1_CthztTfZ8taE_OVW45gQznBreOr8xeKEfN1wRjeSuE/formResponse?';
      var submitRef = '&submit=Submit';
      var submitURL = (baseURL + fnameID + "=" + inputfname + "&" +
      lnameID + "=" + inputlname + "&" +
      emailID + "=" + inputemail + "&" +
      phnoID + "=" + inputphno + "&" +
      dobID + "=" + inputdob + "&" +
      addrID + "=" + inputaddr + "&" +
      cityID + "=" + inputcity + "&" +
      zipcodeID + "=" + inputzipcode + "&" +
      countryID + "=" + inputcountry + "&" +
      stateID + "=" + inputstate +
      submitRef);
      console.log(submitURL);
      //$(this)[0].action=submitURL;
      //$('#input-name').addClass('active').val('Thank You!');
    });
    </script>
  </body>
</html>
